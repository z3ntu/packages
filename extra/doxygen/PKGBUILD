# Maintainer: Stephen Gilles <stephendgilles@gmail.com>
# Contributor: Dan McGee <dan@archlinux.org>

pkgname=doxygen
pkgver=1.7.3
pkgrel=1
pkgdesc="A documentation system for C++, C, Java, IDL and PHP"
license=('GPL')
arch=('i686')
url="http://www.doxygen.org/"
depends=('gcc-libs')
# qt required to build and run doxywizard, but don't want to drag it in
makedepends=('flex')
optdepends=('graphviz: for caller/callee graph generation')
source=(ftp://ftp.stack.nl/pub/users/dimitri/${pkgname}-${pkgver}.src.tar.gz
	hurd_remove_-pipe.patch)
md5sums=('6cc5ad566dbec5cf843dc600b1162808'
         'fea8037e7f4e433114229231391d01cb')


build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  echo "Patching"
  patch -p1 < ${srcdir}/hurd_remove_-pipe.patch
  QTDIR= ./configure --prefix /
  make
  make INSTALL=${pkgdir} MAN1DIR=share/man/man1 install
}

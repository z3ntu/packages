# Maintainer: Alexander Preisinger <alexander.preisinger@gmail.com>

pkgname=libsm
pkgver=1.1.1
pkgrel=1
pkgdesc="X11 Session Management library"
arch=('i686')
license=('custom')
url="http://xorg.freedesktop.org/"
depends=('libice' 'util-linux-ng')
makedepends=('pkgconfig' 'xtrans')
options=('!libtool')
source=(${url}/releases/individual/lib/libSM-${pkgver}.tar.bz2)
md5sums=('6889a455496aaaa65b1fa05fc518d179')
sha1sums=('dc535af7328dee9a6121b85c3f8041656681a195')

build() {
  cd "${srcdir}/libSM-${pkgver}"
  ./configure --prefix= --sysconfdir=/etc || return 1
  make || return 1
}

package() {
  cd "${srcdir}/libSM-${pkgver}"
  make DESTDIR="${pkgdir}" install || return 1
  install -d -m755 "${pkgdir}/share/licenses/${pkgname}"
  install -m644 COPYING "${pkgdir}/share/licenses/${pkgname}/" || return 1
}
